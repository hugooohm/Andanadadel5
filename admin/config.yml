backend:
  name: git-gateway
  branch: main

publish_mode: editorial_workflow

media_folder: "media/posts"
public_folder: "/media/posts"

collections:
  - name: "posts"
    label: "Artículos"
    label_singular: "Artículo"
    folder: "content/posts"
    create: true
    format: "json"
    extension: "json"
    slug: "{{slug}}"
    sortable_fields: ["date", "title", "category"]
    summary: "{{title}} — {{category}} ({{date}})"
    fields:
      - { label: "Título", name: "title", widget: "string" }
      - { label: "Slug", name: "slug", widget: "string", hint: "Identificador en la URL, sin espacios." }
      - { label: "Fecha", name: "date", widget: "datetime", format: "YYYY-MM-DD", time_format: false }
      - { label: "Categoría", name: "category", widget: "select", options: ["Crónicas", "Opinión", "Actualidad", "Entrevistas", "Festejo Popular"] }
      - { label: "Destacado en portada", name: "featured", widget: "boolean", default: false }
      - { label: "Prioridad (orden)", name: "priority", widget: "number", value_type: "int", min: 0, default: 0, required: false }
      - { label: "Imagen principal", name: "image", widget: "image" }
      - { label: "Imagen social (OG)", name: "socialImage", widget: "image", required: false }
      - { label: "Texto alternativo de la imagen", name: "imageAlt", widget: "string", required: false }
      - { label: "Pie de foto", name: "imageCaption", widget: "string", required: false }
      - { label: "Variantes de imagen (anchos)", name: "imageVariants", widget: "list", required: false, field: { label: "Ancho", name: "item", widget: "number", value_type: "int" }, default: [480, 720, 1200] }
      - { label: "Activar WEBP", name: "webpEnabled", widget: "boolean", default: false, required: false }
      - { label: "Entradilla", name: "excerpt", widget: "text" }
      - { label: "Etiquetas", name: "tags", widget: "list", required: false }
      - { label: "Contenido (HTML)", name: "contentHtml", widget: "text", hint: "Pega HTML limpio. Se inserta tal cual en el frontal." }
      - label: "Autor"
        name: "author"
        widget: "string"
        required: false
        hint: "Nombre y apellidos. Si se deja vacío: Redacción Andanada del 5"
        pattern:
          - ".{3,}"
          - "Escribe un nombre válido (mín 3 caracteres)"
